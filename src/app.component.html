@if(isLoggedIn()){
<header class="bg-white dark:bg-slate-900 shadow-md sticky top-0 z-20">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
    <div class="flex items-center gap-6">
       <div class="flex items-center gap-3">
          <svg class="h-8 w-8 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z" />
          </svg>
        <a href="#/dashboard" class="text-xl font-bold tracking-tight text-slate-900 dark:text-white">Release Management Portal</a>
       </div>
       <nav class="flex items-center gap-4">
          @if (canViewMetrics()) {
            <a href="#/metrics" class="text-sm font-semibold text-slate-600 hover:text-sky-600 dark:text-slate-300 dark:hover:text-sky-400 transition-colors">Metrics</a>
          }
       </nav>
    </div>
    <div class="flex items-center gap-4">
       @switch (apiStatus()) {
        @case ('Online') {
          <div class="flex items-center gap-2 text-sm font-medium text-emerald-600 dark:text-emerald-400">
            <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
            API: Online
          </div>
        }
        @case ('Offline') {
          <div class="flex items-center gap-2 text-sm font-medium text-red-600 dark:text-red-400">
            <span class="h-2 w-2 rounded-full bg-red-500"></span>
            API: Offline
          </div>
        }
        @case ('Checking...') {
          <div class="flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400">
            <span class="h-2 w-2 rounded-full bg-slate-400 animate-pulse"></span>
            API: Checking...
          </div>
        }
       }
      <span class="text-sm font-medium text-slate-600 dark:text-slate-300">
        Logged in as: <span class="font-bold text-sky-600 dark:text-sky-400">{{ currentUser()?.roleName }}</span>
      </span>
      <button (click)="logout()"
        class="inline-flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold rounded-md shadow-sm hover:bg-slate-200 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 dark:ring-offset-slate-900 transition ease-in-out duration-150 text-sm">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
          <path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z" clip-rule="evenodd" />
          <path fill-rule="evenodd" d="M19 10a.75.75 0 0 0-.75-.75H8.704l1.048-.943a.75.75 0 1 0-1.004-1.114l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 1 0 1.004-1.114L8.704 10.75H18.25A.75.75 0 0 0 19 10Z" clip-rule="evenodd" />
        </svg>
        Logout
      </button>
    </div>
  </div>
</header>
}
<div class="min-h-screen">
  <main>
    <router-outlet></router-outlet>
  </main>
</div>